<div class="container">
    <h2 class="section-title">Análisis Probabilístico de Encuestas</h2>

    <div class="card file-upload-section">
        <h3>1. Cargar Archivo de Datos (Excel/CSV)</h3>
        <p>Sube tu archivo de encuesta (recomendado en formato XLSX o CSV) para comenzar el análisis.</p>
        <div class="form-group">
            <label for="fileInput" class="btn btn-primary">Seleccionar Archivo</label>
            <input type="file" id="fileInput" accept=".xlsx, .xls, .csv" style="display: none;">
            <div id="fileInfo" class="info-message">Ningún archivo seleccionado.</div>
            <div id="errorInfo" class="error-message" style="display: none;"></div>
        </div>
    </div>

    <div id="analysisSection" class="card analysis-options-section" style="display: none;">
        <h3>2. Opciones de Análisis</h3>
        <p>Selecciona las variables y parámetros para el cálculo de probabilidad.</p>

        <div class="form-group">
            <label for="varDemografica">Variable Demográfica:</label>
            <select id="varDemografica" class="select-input">
                <option value="">Selecciona una variable</option>
            </select>
        </div>

        <div class="form-group">
            <label for="opcionDemografica">Opción Demográfica (Grupo):</label>
            <select id="opcionDemografica" class="select-input">
                <option value="">Selecciona una opción</option>
            </select>
        </div>

        <div class="form-group">
            <label for="pregunta">Pregunta a Analizar:</label>
            <select id="pregunta" class="select-input">
                <option value="">Selecciona una pregunta</option>
            </select>
        </div>

        <div class="form-group">
            <label for="respuesta">Respuesta Esperada:</label>
            <select id="respuesta" class="select-input">
                <option value="">Selecciona una respuesta</option>
            </select>
        </div>

        <div class="form-group">
            <label for="tipo">Tipo de Cálculo:</label>
            <select id="tipo" class="select-input">
                <option value="Valor exacto">Valor exacto (X)</option>
                <option value="Valor menor que">Valor menor que (P(Y < X))</option>
                <option value="Valor mayor que">Valor mayor que (P(Y > X))</option>
                <option value="Valores entre un rango">Valores entre un rango (P(X1 < Y < X2))</option>
            </select>
        </div>

        <div class="form-group">
            <label for="x1">Valor X1:</label>
            <input type="number" id="x1" class="text-input" placeholder="Introduce un número">
        </div>

        <div id="x2-container" class="form-group" style="display: none;">
            <label for="x2">Valor X2:</label>
            <input type="number" id="x2" class="text-input" placeholder="Introduce un número">
        </div>

        <button onclick="calcular()" class="btn btn-action">Calcular Probabilidad</button>
    </div>

    <div id="probabilistic-content-to-pdf">
        <div id="resultado" class="card results-section" style="display: none;">
            <h3>3. Resultados del Análisis</h3>
            <pre id="analysisResults"></pre> </div>

        <div id="chartSection" class="card chart-section" style="display: none;">
            <h3>4. Gráfico de Distribución</h3>
            <div class="chart-container">
                <canvas id="grafica"></canvas>
            </div>
        </div>
    </div>

    <div class="pdf-export-section" style="text-align: center; margin-top: 30px;">
        <button id="generate-pdf-btn" class="btn btn-primary">Generar PDF de Análisis</button>
    </div>

</div>
